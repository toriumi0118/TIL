# 設計のコツ

あんま正規化しない方がよさそう。
理由は、queryがあまり強力ではないのでdocをとって再度queryを投げ直すみたいなことをしないといけないパターンが多くなりがち。
client joinとかで頑張るのがつらみ。

なので、見た目上一撃でデータを取得できるように限りなくflatに持つのがよさそう。
必要ならarray_containsとかで投げてもよさそう。
